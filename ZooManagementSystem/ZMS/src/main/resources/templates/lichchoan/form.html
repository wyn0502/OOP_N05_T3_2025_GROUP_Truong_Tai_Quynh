<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Qu·∫£n l√Ω L·ªãch cho ƒÉn</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">
  <h2 class="mb-4 text-center">üìÖ Qu·∫£n l√Ω L·ªãch cho ƒÉn</h2>

  <!-- Form th√™m/s·ª≠a -->
  <form id="lichForm" class="row g-3">
    <div class="col-md-2">
      <label for="maLich" class="form-label">M√£ l·ªãch</label>
      <input type="text" class="form-control" id="maLich" required>
    </div>
    <div class="col-md-2">
      <label for="dongVat" class="form-label">ƒê·ªông v·∫≠t</label>
      <input type="text" class="form-control" id="dongVat" required>
    </div>
    <div class="col-md-2">
      <label for="thucAn" class="form-label">Th·ª©c ƒÉn</label>
      <input type="text" class="form-control" id="thucAn" required>
    </div>
    <div class="col-md-2">
      <label for="nhanVien" class="form-label">Nh√¢n vi√™n</label>
      <input type="text" class="form-control" id="nhanVien" required>
    </div>
    <div class="col-md-2">
      <label for="thoiGian" class="form-label">Th·ªùi gian</label>
      <input type="datetime-local" class="form-control" id="thoiGian" required>
    </div>
    <div class="col-md-2 d-grid">
      <label class="form-label invisible">N√∫t</label>
      <button type="submit" class="btn btn-primary">üíæ L∆∞u</button>
    </div>
  </form>

  <!-- B·∫£ng danh s√°ch -->
  <div class="table-responsive mt-4">
    <table class="table table-bordered table-striped align-middle text-center">
      <thead class="table-dark">
        <tr>
          <th>M√£ l·ªãch</th>
          <th>ƒê·ªông v·∫≠t</th>
          <th>Th·ª©c ƒÉn</th>
          <th>Nh√¢n vi√™n</th>
          <th>Th·ªùi gian</th>
          <th>H√†nh ƒë·ªông</th>
        </tr>
      </thead>
      <tbody id="lichTableBody">
        <!-- D·ªØ li·ªáu ƒë∆∞·ª£c th√™m ƒë·ªông ·ªü ƒë√¢y -->
      </tbody>
    </table>
  </div>
</div>

<!-- Bootstrap + Script -->
<script>
  const form = document.getElementById('lichForm');
  const tbody = document.getElementById('lichTableBody');
  let lichList = [];

  form.addEventListener('submit', function (e) {
    e.preventDefault();

    const maLich = document.getElementById('maLich').value.trim();
    const dongVat = document.getElementById('dongVat').value.trim();
    const thucAn = document.getElementById('thucAn').value.trim();
    const nhanVien = document.getElementById('nhanVien').value.trim();
    const thoiGian = document.getElementById('thoiGian').value;

    const existing = lichList.find(l => l.maLich === maLich);
    if (existing) {
      existing.dongVat = dongVat;
      existing.thucAn = thucAn;
      existing.nhanVien = nhanVien;
      existing.thoiGian = thoiGian;
    } else {
      lichList.push({ maLich, dongVat, thucAn, nhanVien, thoiGian });
    }

    form.reset();
    renderTable();
  });

  function renderTable() {
    tbody.innerHTML = '';
    lichList.forEach((lich, index) => {
      const row = `
        <tr>
          <td>${lich.maLich}</td>
          <td>${lich.dongVat}</td>
          <td>${lich.thucAn}</td>
          <td>${lich.nhanVien}</td>
          <td>${lich.thoiGian}</td>
          <td>
            <button class="btn btn-warning btn-sm me-2" onclick="editLich(${index})">‚úèÔ∏è S·ª≠a</button>
            <button class="btn btn-danger btn-sm" onclick="deleteLich(${index})">üóëÔ∏è X√≥a</button>
          </td>
        </tr>
      `;
      tbody.innerHTML += row;
    });
  }

  function editLich(index) {
    const lich = lichList[index];
    document.getElementById('maLich').value = lich.maLich;
    document.getElementById('dongVat').value = lich.dongVat;
    document.getElementById('thucAn').value = lich.thucAn;
    document.getElementById('nhanVien').value = lich.nhanVien;
    document.getElementById('thoiGian').value = lich.thoiGian;
  }

  function deleteLich(index) {
    if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a l·ªãch n√†y kh√¥ng?")) {
      lichList.splice(index, 1);
      renderTable();
    }
  }
</script>
</body>
</html>
