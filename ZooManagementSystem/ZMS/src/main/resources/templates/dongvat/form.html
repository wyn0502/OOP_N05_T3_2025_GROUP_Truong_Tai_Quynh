<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Động Vật Form</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS và JS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div class="container mt-4">
    <h2 th:text="${dongVat.id} != null ? 'Cập nhật Động Vật' : 'Thêm mới Động Vật'"></h2>
    <form th:action="@{/dongvat/luu}" th:object="${dongVat}" method="post" class="needs-validation" novalidate>
        <div class="mb-3">
            <label for="ten" class="form-label">Tên:</label>
            <input type="text" th:field="*{ten}" id="ten" required class="form-control"/>
            <input type="hidden" name="originalTen" th:value="${originalTen}">
            <div class="invalid-feedback">Vui lòng nhập tên.</div>
        </div>
        <div class="mb-3">
            <label for="tuoi" class="form-label">Tuổi:</label>
            <input type="number" th:field="*{tuoi}" id="tuoi" required class="form-control"/>
            <div class="invalid-feedback">Vui lòng nhập tuổi.</div>
        </div>
        <div class="mb-3">
            <label for="loai" class="form-label">Loài:</label>
            <input type="text" th:field="*{loai}" id="loai" required class="form-control"/>
            <div class="invalid-feedback">Vui lòng nhập loài.</div>
        </div>
        <button type="submit" class="btn btn-primary">Lưu</button>
        <a th:href="@{/dongvat}" class="btn btn-secondary">Quay lại</a>
    </form>
</div>
<script>
    // Kích hoạt validation của Bootstrap
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
    })()
</script>
</body>
</html>
